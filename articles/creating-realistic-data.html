<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Creating realistic data • charlatan</title>
<!-- rOpenSci favicons --><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Creating realistic data">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.css">
<script src="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.umd.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">charlatan</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.6.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="nav-link" href="../articles/charlatan.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/contributing.html">Contributing to charlatan</a></li>
    <li><a class="dropdown-item" href="../articles/creating-realistic-data.html">Creating realistic data</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ropensci/charlatan/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Creating realistic data</h1>
                        <h4 data-toc-skip class="author">Roel M.
Hogervorst</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/charlatan/blob/master/vignettes/creating-realistic-data.Rmd" class="external-link"><code>vignettes/creating-realistic-data.Rmd</code></a></small>
      <div class="d-none name"><code>creating-realistic-data.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/charlatan/">charlatan</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Charlatan creates realistic looking data. By now you have seen some
examples of the high level and low level APIs. But maybe you would like
to see some examples of generating data for specific use-cases? Then
this vignette is for you. It will show you how to create fake
transactional data, fake health care (PII) data and finally an example
of a plumber API that returns fake data.</p>
<p>But first a slight detour into different ways of faking data.</p>
<div class="section level3">
<h3 id="other-options-for-faking-data">Other options for faking data<a class="anchor" aria-label="anchor" href="#other-options-for-faking-data"></a>
</h3>
<p>Simulation of data (creating fake data that looks realistic) is not
always the best option, there are other options that we will discuss
first.</p>
<ul>
<li>use real data</li>
<li>use pseudonomous or anonymous data</li>
<li>create a dataset from scratch</li>
</ul>
<p>Using <strong>real actual data</strong> is great for live systems.
You want actual data for actual predictions or actual inference. It is,
however smart to reduce your data to only the columns you need.</p>
<p>Using real actual data is a bad idea for demonstration use-cases.
Personal Identifyable Information (PII) are sensitive data and need to
be handled with care. Even if you strip away the full names it is
relatively easy to pinpoint specific people on the basis of several data
points.</p>
<p><strong>Pseudonymous or anonymous data</strong> is a safer way to
deal with personal identifyable data. By stripping away PII or replacing
values with other random values you make it harder to link the data back
to actual people. The main pro in using this kind of data is that you
keep the data structure intact. The relationship between variables
remain, and you can do predictions/inference on that.</p>
<p>It is quite a lot of work to make your data truly anonymous. You need
surprisingly little data to de-anonomize data and link it back to actual
people.</p>
<p><strong>Creating a fake dataset from scratch</strong> is relatively
easy when the data is small. Using the build-in functions
like<code>sample</code>, <code>runif</code>, and <code>rnorm</code> etc.
is very doable. It is slightly faster than using this package.</p>
<p>Using completely random values does make it difficult to talk to
stakeholders, they would not understand the random values. It is also
really a lot of work to generate more complex data or many different
columns.</p>
</div>
<div class="section level3">
<h3 id="what-this-package-does-and-does-not-do">What this package does, and does not do<a class="anchor" aria-label="anchor" href="#what-this-package-does-and-does-not-do"></a>
</h3>
<p>This package creates realistic looking values, but does not help you
in creating relations in a data set. For instance you can create
streets, cities and postal codes, but those components are unrelated,
the postal code is not related to the street nor to the city.</p>
<p>This package creates realistic <strong>names</strong>,
<strong>jobs</strong>, <strong>streets</strong>, <strong>business
names</strong>, <strong>phone numbers</strong> and much more. It also
can create those things for different countries and languages (locales).
For example:</p>
<ul>
<li>You could create a dataset with real Czech names like ‘František
Krejčí’ or ‘Nikol Machová’.</li>
<li>You can create addresses that look like they come from New Zealand:
“68 Morris Concourse Tererongo 6128” or “485 Manawarongo Way, Pedersen
3196”.</li>
<li>You can create Danish jobs like “Børsmægler” or
“Ventilationsmontør”.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<p>Next are a few examples of faked data with the help of the
{charlatan} package. The examples are with the en_US locale, but work
for many locales.</p>
<div class="section level3">
<h3 id="fake-business-transactional-data">Fake business transactional data<a class="anchor" aria-label="anchor" href="#fake-business-transactional-data"></a>
</h3>
<p>This example shows transactional data, from an ecommerce website for
example, and will also show you how to add some logical structure to
your data. <em>This example comes from an issue opened on our
github.</em></p>
<p>Let’s imagine we sell clothes on the internet. What would that data
look like?</p>
<p>I would need:</p>
<ul>
<li>ids for items</li>
<li>item information</li>
<li>a price paid</li>
<li>customer information (Who bought it, where do we ship it)</li>
</ul>
<div class="section level4">
<h4 id="steps-for-creating-realistic-looking-business-transactional-data">Steps for creating realistic looking business transactional
data<a class="anchor" aria-label="anchor" href="#steps-for-creating-realistic-looking-business-transactional-data"></a>
</h4>
<ul>
<li>create products</li>
<li>create orders</li>
<li>combine the two</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># setup</span></span>
<span><span class="va">fraudster_cl</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fraudster.html">fraudster</a></span><span class="op">(</span><span class="st">"en_US"</span><span class="op">)</span></span>
<span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">5</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1235</span><span class="op">)</span></span></code></pre></div>
<p>We first create a few categories and subcategories. This is too
specific for the {charlatan} package (and different for every store). I
imagine you have a better idea for this data then I have.</p>
<p>In this example I have categories Shoes, Jeans and Dresses. All Shoes
have a prefix that starts with 1, all Jeans have prefix starting with 2,
and Dresses start with 5. We combine the prefix with a random number to
have consistent product ids ( I have no idea if clothing stores actually
do this, but it looked neat).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create product data</span></span>
<span><span class="va">products</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  prefix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  product_id <span class="op">=</span> <span class="va">fraudster_cl</span><span class="op">$</span><span class="fu">integer</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">9</span>, min <span class="op">=</span> <span class="fl">1000</span>, max <span class="op">=</span> <span class="fl">9999</span><span class="op">)</span>,</span>
<span>  main_category <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Shoes"</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Jeans"</span>, <span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Dresses"</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  sub_category <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"Dress shoes"</span>, <span class="st">"Tennis shoes"</span>, <span class="st">"Boots"</span>, <span class="st">"Hiking boots"</span>, <span class="st">"Country &amp; Western style boots"</span>,</span>
<span>    <span class="st">"Regular fit"</span>, <span class="st">"Straight fit"</span>,</span>
<span>    <span class="st">"Summer dress"</span>, <span class="st">"Evening gown"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">## when you have {dplyr} installed there are way cleaner ways to do this</span></span>
<span><span class="va">products</span><span class="op">$</span><span class="va">product_id</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"%s%s"</span>, <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">products</span><span class="op">$</span><span class="va">prefix</span><span class="op">)</span>, <span class="va">products</span><span class="op">$</span><span class="va">product_id</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">products</span></span>
<span><span class="co">#&gt;   prefix product_id main_category                  sub_category</span></span>
<span><span class="co">#&gt; 1      1      12006         Shoes                   Dress shoes</span></span>
<span><span class="co">#&gt; 2      1      17515         Shoes                  Tennis shoes</span></span>
<span><span class="co">#&gt; 3      1      16826         Shoes                         Boots</span></span>
<span><span class="co">#&gt; 4      1      13916         Shoes                  Hiking boots</span></span>
<span><span class="co">#&gt; 5      1      13979         Shoes Country &amp; Western style boots</span></span>
<span><span class="co">#&gt; 6      2      23811         Jeans                   Regular fit</span></span>
<span><span class="co">#&gt; 7      2      22250         Jeans                  Straight fit</span></span>
<span><span class="co">#&gt; 8      5      59459       Dresses                  Summer dress</span></span>
<span><span class="co">#&gt; 9      5      51427       Dresses                  Evening gown</span></span></code></pre></div>
<p>Then we create the orders with a price, a product id, and location.
Orders also have an email address and are shipped to an address.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create orders</span></span>
<span><span class="va">orders</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  order_id <span class="op">=</span> <span class="va">fraudster_cl</span><span class="op">$</span><span class="fu">integer</span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span>, min <span class="op">=</span> <span class="fl">10000</span>, max <span class="op">=</span> <span class="fl">90000</span><span class="op">)</span>,</span>
<span>  location_id <span class="op">=</span> <span class="va">fraudster_cl</span><span class="op">$</span><span class="fu">integer</span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span>, min <span class="op">=</span> <span class="fl">1</span>, max <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>,</span>
<span>  price_paid <span class="op">=</span> <span class="va">fraudster_cl</span><span class="op">$</span><span class="fu">integer</span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span>, min <span class="op">=</span> <span class="fl">1</span>, max <span class="op">=</span> <span class="fl">9900</span><span class="op">)</span> <span class="op">/</span> <span class="fl">100</span>,</span>
<span>  product_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">products</span><span class="op">$</span><span class="va">product_id</span>, size <span class="op">=</span> <span class="va">n</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  order_email <span class="op">=</span> <span class="va">fraudster_cl</span><span class="op">$</span><span class="fu">email</span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span><span class="op">)</span>,</span>
<span>  customer_name <span class="op">=</span> <span class="va">fraudster_cl</span><span class="op">$</span><span class="fu">name</span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span><span class="op">)</span>,</span>
<span>  shipping_address <span class="op">=</span> <span class="va">fraudster_cl</span><span class="op">$</span><span class="fu">address</span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Finally we combine everything:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># combine orders and transactions</span></span>
<span><span class="va">example_transactions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">orders</span>, <span class="va">products</span><span class="op">)</span></span>
<span><span class="co">## reorder the columns to let it make more sense.</span></span>
<span><span class="va">example_transactions</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"order_id"</span>, <span class="st">"location_id"</span>, <span class="st">"product_id"</span>, <span class="st">"main_category"</span>, <span class="st">"sub_category"</span>, <span class="st">"price_paid"</span>, <span class="st">"customer_name"</span>, <span class="st">"order_email"</span>, <span class="st">"shipping_address"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt;   order_id location_id product_id main_category                  sub_category</span></span>
<span><span class="co">#&gt; 1    38900           5      13979         Shoes Country &amp; Western style boots</span></span>
<span><span class="co">#&gt; 2    82163           5      13979         Shoes Country &amp; Western style boots</span></span>
<span><span class="co">#&gt; 3    26387           2      16826         Shoes                         Boots</span></span>
<span><span class="co">#&gt; 4    49425           1      17515         Shoes                  Tennis shoes</span></span>
<span><span class="co">#&gt; 5    32062           4      17515         Shoes                  Tennis shoes</span></span>
<span><span class="co">#&gt;   price_paid      customer_name                 order_email</span></span>
<span><span class="co">#&gt; 1      68.89          Sal Klein          meghan99@group.com</span></span>
<span><span class="co">#&gt; 2      21.13 Darnell Stiedemann dillon.bartoletti@gmail.com</span></span>
<span><span class="co">#&gt; 3      74.89    Santana Langosh       wyman.brody@gmail.com</span></span>
<span><span class="co">#&gt; 4      74.75      Earley Hickle howell.samantha@hotmail.com</span></span>
<span><span class="co">#&gt; 5      31.19 Dr. Andra White MD     helmer.hayes@corwin.net</span></span>
<span><span class="co">#&gt;                                           shipping_address</span></span>
<span><span class="co">#&gt; 1                  05992 Dona Squares\nMooreview, MH 32273</span></span>
<span><span class="co">#&gt; 2                2481 Plummer Drive\nMicaylatown, VA 45528</span></span>
<span><span class="co">#&gt; 3 86826 Zeke Lodge Apt. 861\nEast Saigeland, TN 70514-0551</span></span>
<span><span class="co">#&gt; 4                407 Herzog Pass\nEast Enochfurt, NJ 23062</span></span>
<span><span class="co">#&gt; 5            516 Marks Forest Apt. 007\nTowneton, MT 48453</span></span></code></pre></div>
<p>Notice that customer_name and email are completely unrelated. You
could create a customer ‘table’ like the product table above to create a
bit more structure.</p>
</div>
</div>
<div class="section level3">
<h3 id="protected-health-information">Protected health information<a class="anchor" aria-label="anchor" href="#protected-health-information"></a>
</h3>
<p>Here is how you simulate protected health information with
{charlatan}. Here we use the low level api.</p>
<p><em>This example also comes from an issue in our github.</em></p>
<p>First a setup:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># setup the providers</span></span>
<span><span class="va">ap</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/AddressProvider_en_US.html">AddressProvider_en_US</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">pp</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/PersonProvider_en_US.html">PersonProvider_en_US</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">ip</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/InternetProvider_en_US.html">InternetProvider_en_US</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">lp</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/LoremProvider_en_US.html">LoremProvider_en_US</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">SSNP</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/SSNProvider_en_US.html">SSNProvider_en_US</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">dtp</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/DateTimeProvider.html">DateTimeProvider</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">np</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/NumericsProvider.html">NumericsProvider</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">pnp</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/PhoneNumberProvider_en_US.html">PhoneNumberProvider_en_US</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1235</span><span class="op">)</span></span></code></pre></div>
<p>We don’t have a list of counties in the US (there are 3007 of them).
So we will use a random word from the <code>LoremProvider</code> with
county. It is probably nicer if you wrap this into a function.</p>
<p>Generate a single ‘record’ for a person:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prot_health</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  first_name <span class="op">=</span> <span class="va">pp</span><span class="op">$</span><span class="fu">first_name</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  last_name <span class="op">=</span> <span class="va">pp</span><span class="op">$</span><span class="fu">last_name</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  phone_number <span class="op">=</span> <span class="va">pnp</span><span class="op">$</span><span class="fu">render</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  fax_number <span class="op">=</span> <span class="va">pnp</span><span class="op">$</span><span class="fu">render</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  street <span class="op">=</span> <span class="va">ap</span><span class="op">$</span><span class="fu">street_address</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  zipcode <span class="op">=</span> <span class="va">ap</span><span class="op">$</span><span class="fu">postcode</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  email <span class="op">=</span> <span class="va">ip</span><span class="op">$</span><span class="fu">email</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  county <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">lp</span><span class="op">$</span><span class="fu">word</span><span class="op">(</span><span class="op">)</span>, <span class="st">" county"</span><span class="op">)</span>,</span>
<span>  SSN <span class="op">=</span> <span class="va">SSNP</span><span class="op">$</span><span class="fu">render</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  dob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">dtp</span><span class="op">$</span><span class="fu">date_time_between</span><span class="op">(</span><span class="st">"1930-01-01"</span>, <span class="st">"1990-12-31"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="co"># I've decided record number is an integer between 10000 - 99999</span></span>
<span>  medical_record_number <span class="op">=</span> <span class="va">np</span><span class="op">$</span><span class="fu">integer</span><span class="op">(</span>min <span class="op">=</span> <span class="fl">10000</span>, max <span class="op">=</span> <span class="fl">99999</span><span class="op">)</span>,</span>
<span>  ip_address <span class="op">=</span> <span class="va">ip</span><span class="op">$</span><span class="fu">ipv4</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">prot_health</span></span>
<span><span class="co">#&gt; $first_name</span></span>
<span><span class="co">#&gt; [1] "Efrem"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $last_name</span></span>
<span><span class="co">#&gt; [1] "Schaden"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $phone_number</span></span>
<span><span class="co">#&gt; [1] "243.246.1773"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $fax_number</span></span>
<span><span class="co">#&gt; [1] "+68(4)7385942080"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $street</span></span>
<span><span class="co">#&gt; [1] "2414 Howell Stravenue"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $zipcode</span></span>
<span><span class="co">#&gt; [1] "54142"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $email</span></span>
<span><span class="co">#&gt; [1] "alta70@gmail.com"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $county</span></span>
<span><span class="co">#&gt; [1] "benefit county"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $SSN</span></span>
<span><span class="co">#&gt; [1] "275-05-1676"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $dob</span></span>
<span><span class="co">#&gt; [1] "1954-06-03"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $medical_record_number</span></span>
<span><span class="co">#&gt; [1] 76973</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $ip_address</span></span>
<span><span class="co">#&gt; [1] "133.80.147.164"</span></span></code></pre></div>
<p>We can also create medical records in sequence with a custom
function. In the following example I create a sequence of events based
on a date.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' Generate a bunch of dates in sequence</span></span>
<span><span class="va">gen_med_record</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">date_value</span>, <span class="va">events</span> <span class="op">=</span> <span class="fl">4</span>, <span class="va">event_types</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"admission"</span>, <span class="st">"x-ray"</span>, <span class="st">"blood-test"</span>, <span class="st">"general exam"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">days</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="va">np</span><span class="op">$</span><span class="fu">integer</span><span class="op">(</span><span class="va">events</span>, <span class="fl">1</span>, <span class="fl">365</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>    date <span class="op">=</span> <span class="va">date_value</span> <span class="op">+</span> <span class="va">days</span></span>
<span>  <span class="op">)</span></span>
<span>  <span class="va">result</span><span class="op">$</span><span class="va">event</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">event_types</span>, size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="va">result</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">gen_med_record</span><span class="op">(</span>date_value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2022-03-01"</span><span class="op">)</span>, events <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">## And add the generated data to this dataframe too</span></span>
<span><span class="va">result</span><span class="op">$</span><span class="va">medical_record_number</span> <span class="op">&lt;-</span> <span class="va">prot_health</span><span class="op">$</span><span class="va">medical_record_number</span></span>
<span><span class="va">result</span><span class="op">$</span><span class="va">last_name</span> <span class="op">&lt;-</span> <span class="va">prot_health</span><span class="op">$</span><span class="va">last_name</span></span>
<span><span class="va">result</span><span class="op">$</span><span class="va">date_of_birth</span> <span class="op">&lt;-</span> <span class="va">prot_health</span><span class="op">$</span><span class="va">dob</span></span>
<span><span class="va">result</span></span>
<span><span class="co">#&gt;         date        event medical_record_number last_name date_of_birth</span></span>
<span><span class="co">#&gt; 1 2022-05-12   blood-test                 76973   Schaden    1954-06-03</span></span>
<span><span class="co">#&gt; 2 2022-05-14 general exam                 76973   Schaden    1954-06-03</span></span>
<span><span class="co">#&gt; 3 2022-10-03        x-ray                 76973   Schaden    1954-06-03</span></span>
<span><span class="co">#&gt; 4 2022-11-21        x-ray                 76973   Schaden    1954-06-03</span></span>
<span><span class="co">#&gt; 5 2023-02-09 general exam                 76973   Schaden    1954-06-03</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="plumber-api">Plumber api<a class="anchor" aria-label="anchor" href="#plumber-api"></a>
</h3>
<p>You can also create a plumber API that returns realistic data. For
this example to work you need the <a href="https://CRAN.R-project.org/package=plumber" class="external-link">{plumber}</a> package
installed.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># plumber.R</span></span>
<span></span>
<span><span class="va">fraudster_cl</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fraudster.html">fraudster</a></span><span class="op">(</span><span class="st">'en_US'</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#* Create a random address</span></span>
<span><span class="co">#* @param n how many do you want</span></span>
<span><span class="co">#* @get /adress</span></span>
<span><span class="kw">function</span><span class="op">(</span><span class="va">n</span><span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>address<span class="op">=</span><span class="va">fraudster_cl</span><span class="op">$</span><span class="fu">address</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">#* Create a random company</span></span>
<span><span class="co">#* @param n how many do you want</span></span>
<span><span class="co">#* @get /company</span></span>
<span><span class="kw">function</span><span class="op">(</span><span class="va">n</span><span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>address<span class="op">=</span><span class="va">fraudster_cl</span><span class="op">$</span><span class="fu">company</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Then run the file like this to start an API:</p>
<p><code>plumber::plumb("R/plumber.R") %&gt;% plumber::pr_run()</code></p>
</div>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>As you can see this package helps you in generating plausible data,
but to add structure (relationships between variables) to your data you
need to do work yourself.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>





  </body>
</html>
